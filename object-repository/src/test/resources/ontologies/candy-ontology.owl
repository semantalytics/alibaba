<?xml version="1.0"?>
<!DOCTYPE rdf:RDF [
   <!ENTITY obj  "http://www.openrdf.org/rdf/2009/object#" >
   <!ENTITY dc   "http://purl.org/dc/elements/1.1/" >
   <!ENTITY owl  "http://www.w3.org/2002/07/owl#" >
   <!ENTITY rdfs "http://www.w3.org/2000/01/rdf-schema#" >
   <!ENTITY rdf  "http://www.w3.org/1999/02/22-rdf-syntax-ns#" >
   <!ENTITY xsd  "http://www.w3.org/2001/XMLSchema#" >
 ]>
<rdf:RDF xmlns="urn:test:candy#" xmlns:obj="http://www.openrdf.org/rdf/2009/object#"
	xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:owl="http://www.w3.org/2002/07/owl#"
	xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
	xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
	 xmlns:candy="urn:test:candy#" xml:base="urn:test:candy">

	<!-- Classes -->

	<owl:Class rdf:ID="Candy">
		<rdfs:subClassOf>
			<owl:Restriction>
				<owl:onProperty rdf:resource="#good" />
				<owl:cardinality>1</owl:cardinality>
			</owl:Restriction>
		</rdfs:subClassOf>
		<rdfs:subClassOf>
			<owl:Restriction>
				<owl:onProperty rdf:resource="#eaten" />
				<owl:cardinality>1</owl:cardinality>
			</owl:Restriction>
		</rdfs:subClassOf>
	</owl:Class>

	<owl:DatatypeProperty rdf:ID="good">
		<rdf:type rdf:resource="&owl;FunctionalProperty" />
		<rdfs:domain rdf:resource="#Candy" />
		<rdfs:range rdf:resource="&xsd;boolean" />
	</owl:DatatypeProperty>

	<owl:DatatypeProperty rdf:ID="eaten">
		<rdf:type rdf:resource="&owl;FunctionalProperty" />
		<rdfs:domain rdf:resource="#Candy" />
		<rdfs:range rdf:resource="&xsd;boolean" />
	</owl:DatatypeProperty>

	<owl:Class rdf:ID="Person"></owl:Class>

	<owl:Class rdf:ID="Child">
		<rdfs:subClassOf rdf:resource="#Person" />
	</owl:Class>

	<!-- Messages -->

	<owl:Class rdf:ID="taste">
		<rdfs:subClassOf rdf:resource="&obj;Message" />
		<rdfs:subClassOf>
			<owl:Restriction>
				<owl:onProperty rdf:resource="&obj;target" />
				<owl:allValuesFrom rdf:resource="#Person" />
			</owl:Restriction>
		</rdfs:subClassOf>
		<rdfs:subClassOf>
			<owl:Restriction>
				<owl:onProperty rdf:resource="&obj;functionalLiteralResponse" />
				<owl:allValuesFrom rdf:resource="&xsd;boolean" />
			</owl:Restriction>
		</rdfs:subClassOf>
	</owl:Class>

	<owl:ObjectProperty rdf:ID="candy">
		<rdf:type rdf:resource="&owl;FunctionalProperty" />
		<rdfs:domain rdf:resource="#taste" />
		<rdfs:range rdf:resource="#Candy" />
	</owl:ObjectProperty>

	<owl:Class rdf:ID="eat">
		<rdfs:subClassOf rdf:resource="#taste" />
	</owl:Class>

	<owl:Class rdf:ID="unimplemented">
		<rdfs:subClassOf rdf:resource="&obj;Message" />
		<rdfs:subClassOf>
			<owl:Restriction>
				<owl:onProperty rdf:resource="&obj;target" />
				<owl:allValuesFrom rdf:resource="#Person" />
			</owl:Restriction>
		</rdfs:subClassOf>
		<rdfs:subClassOf>
			<owl:Restriction>
				<owl:onProperty rdf:resource="&obj;functionalLiteralResponse" />
				<owl:allValuesFrom rdf:resource="&xsd;string" />
			</owl:Restriction>
		</rdfs:subClassOf>
	</owl:Class>

	<!-- Methods -->

	<owl:ObjectProperty rdf:ID="tasting">
		<rdfs:subPropertyOf rdf:resource="&obj;Method" />
		<rdfs:range rdf:resource="#taste" />
		<obj:java><![CDATA[
		if (msg.getCandyCandy().isCandyGood())
			return true;
		return false;
		]]></obj:java>
	</owl:ObjectProperty>

	<owl:ObjectProperty rdf:ID="eating">
		<rdfs:subPropertyOf rdf:resource="&obj;Method" />
		<rdfs:range rdf:resource="#eat" />
		<obj:java><![CDATA[
		msg.getCandyCandy().setCandyEaten(true);
		return msg.getObjFunctionalLiteralResponse();
		]]></obj:java>
	</owl:ObjectProperty>

	<owl:ObjectProperty rdf:ID="child-tasting">
		<rdfs:subPropertyOf rdf:resource="#tasting" />
		<rdfs:range rdf:resource="#taste" />
		<rdfs:domain rdf:resource="#Child" />
		<obj:java>return true; // children taste anything</obj:java>
	</owl:ObjectProperty>

	<!-- define a property that is unique to john -->
	<owl:DatatypeProperty rdf:ID="good-day">
		<rdf:type rdf:resource="&owl;FunctionalProperty" />
		<rdfs:domain>
			<owl:Class>
				<owl:oneOf rdf:parseType="Collection">
					<rdf:Description rdf:about="#john" />
				</owl:oneOf>
				<rdfs:subClassOf>
					<owl:Restriction>
						<owl:onProperty rdf:resource="#good-day" />
						<owl:cardinality>1</owl:cardinality>
					</owl:Restriction>
				</rdfs:subClassOf>
			</owl:Class>
		</rdfs:domain>
		<rdfs:range rdf:resource="&xsd;boolean" />
	</owl:DatatypeProperty>

	<owl:ObjectProperty rdf:ID="john-tasting">
		<rdfs:subPropertyOf rdf:resource="#tasting" />
		<rdfs:range rdf:resource="#taste" />
		<rdfs:domain>
			<owl:Class>
				<owl:oneOf rdf:parseType="Collection">
					<Person rdf:ID="john">
						<good-day rdf:datatype="&xsd;boolean">false</good-day>
					</Person>
				</owl:oneOf>
			</owl:Class>
		</rdfs:domain>
		<obj:java>return isCandyGoodDay(); // john only likes candy if its a good-day</obj:java>
	</owl:ObjectProperty>

	<owl:ObjectProperty rdf:ID="jane-tasting">
		<rdfs:subPropertyOf rdf:resource="#tasting" />
		<rdfs:range rdf:resource="#taste" />
		<rdfs:domain>
			<owl:Class>
				<owl:oneOf rdf:parseType="Collection">
					<Person rdf:ID="jane"/>
				</owl:oneOf>
			</owl:Class>
		</rdfs:domain>
		<obj:imports rdf:resource="#john"/>
		<obj:java>return !candyJohn.candyTaste(msg.getCandyCandy()); // jane likes it, if john doesn't</obj:java>
	</owl:ObjectProperty>

	<owl:ObjectProperty rdf:ID="catch-all">
		<rdfs:subPropertyOf rdf:resource="&obj;Method" />
		<rdfs:range rdf:resource="&obj;Message" />
		<obj:imports rdf:resource="java:java.util.Collections" />
		<obj:imports rdf:resource="java:java.util.Set" />
		<obj:java><![CDATA[
		return Collections.singleton((Object) msg.getClass().getInterfaces()[0].getSimpleName());
		]]></obj:java>
	</owl:ObjectProperty>

</rdf:RDF>

