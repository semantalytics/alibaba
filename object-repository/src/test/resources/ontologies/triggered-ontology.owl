<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE rdf:RDF [
   <!ENTITY obj  "http://www.openrdf.org/rdf/2009/object#" >
   <!ENTITY owl  "http://www.w3.org/2002/07/owl#" >
   <!ENTITY xsd  "http://www.w3.org/2001/XMLSchema#" >
 ]>
<rdf:RDF
	xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
	xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
	xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
	xmlns:owl="http://www.w3.org/2002/07/owl#"
	xmlns:obj="&obj;"
	xmlns:trig="http://example.org/trigger#"
	xml:base="http://example.org/trigger">

	<owl:Class rdf:ID="Document"/>

	<owl:DatatypeProperty rdf:ID="author">
		<rdf:type rdf:resource="&owl;FunctionalProperty"/>
		<rdfs:domain rdf:resource="#Document"/>
		<rdfs:range rdf:resource="&xsd;string"/>
	</owl:DatatypeProperty>

	<owl:DatatypeProperty rdf:ID="body">
		<rdf:type rdf:resource="&owl;FunctionalProperty"/>
		<rdfs:domain rdf:resource="#Document"/>
		<rdfs:range rdf:resource="&xsd;string"/>
	</owl:DatatypeProperty>

	<owl:DatatypeProperty rdf:ID="keyword">
		<rdfs:domain rdf:resource="#Document"/>
		<rdfs:range rdf:resource="&xsd;string"/>
	</owl:DatatypeProperty>

	<owl:Class rdf:ID="updateKeywords">
		<rdfs:subClassOf rdf:resource="&obj;Message" />
		<rdfs:subClassOf>
			<owl:Restriction>
				<owl:onProperty rdf:resource="&obj;target" />
				<owl:allValuesFrom rdf:resource="#Document" />
			</owl:Restriction>
		</rdfs:subClassOf>
		<rdfs:subClassOf>
			<owl:Restriction>
				<owl:onProperty rdf:resource="&obj;objectResponse" />
				<owl:allValuesFrom rdf:resource="&owl;Nothing" />
			</owl:Restriction>
		</rdfs:subClassOf>
		<obj:triggeredBy rdf:resource="#body"/>
		<obj:java>
	getTrigKeywords().clear();
	for (String word : msg.getTrigBody().split("\\W")) {
		if (word.length() > 3) {
			getTrigKeywords().add(word);
		}
	}
		</obj:java>
	</owl:Class>

	<owl:DatatypeProperty rdf:ID="updateKeywords-body">
		<rdf:type rdf:resource="&owl;FunctionalProperty"/>
		<rdfs:domain rdf:resource="#updateKeywords" />
		<rdfs:range rdf:resource="&xsd;string" />
		<obj:name>trigBody</obj:name>
	</owl:DatatypeProperty>

</rdf:RDF>
